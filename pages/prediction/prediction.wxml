<import src="../../wxParse/wxParse.wxml" />
<import src="../../components/actionsBar/actionsBar.wxml" />

<view class="header">
    <view class="rec-top">
        <view class="rec-top-wrap">
            <view class="rec-type type-prediction">预测</view>
            <text class="rec-source">来自{{content.symbol}}</text>
        </view>
    </view>
    <view class="rec-middle">
        <view class="rec-middle-wrap">
            <view class="rec-title">{{content.title}}</view>
        </view>
    </view>
    <view class="rec-bottom">
        <view class="rec-bottom-item">{{content.gmtCreate}}</view>
    </view>
</view>

<view class="swiper-tab">
    <block wx:for="{{content.bodies}}" wx:key="index">
        <view class="swiper-tab-list {{currentTab==index ? 'on' : ''}}" style="width: {{tabItemWidth}}%" data-current="{{index}}" bindtap="switchNav">{{item.typeName}}</view>    
    </block>
</view>
<swiper current="{{currentTab}}" class="swiper-box" style="height: {{swiperHeight}}px" duration="300" bindchange="bindChange">
    <block wx:for="{{content.bodies}}" wx:key="index">
        <block wx:if="{{item.type != 4}}">
            <swiper-item>
                <scroll-view class="scroll" style="height: {{scrollViewHeight}}px" scroll-y="true"> 
                    <view class="scroll-wrap">
                        <view class="swiper-item-title">{{item.title}}</view>
                        <template is="wxParse" data="{{wxParseData:replyTemArray[index]}}"/>
                    </view>
                </scroll-view>
            </swiper-item>
        </block>
    </block>
</swiper>

<template is="actionsBar" data="{{type, like, likeSize, commentSize, favorite}}"></template>
